---
import logoIcon from '../../assets/brand/logos/mezcalomano_icon_white.svg';
import burgerIcon from '../../assets/ui/icons/icon_burger.svg';
import MobileNav from './MobileNav.astro';

const currentPath = Astro.url.pathname;
---

<header class="header">
  <div class="header-content">
    <a href="/" class="header-logo" aria-label="Mezcalómano Home">
      <img src={logoIcon} alt="Mezcalómano" />
    </a>
    
    <nav class="header-nav" aria-label="Main navigation">
      <ul class="header-nav-desktop">
        <li><a href="/" class={currentPath === '/' ? 'active' : ''}>Home</a></li>
        <li><a href="/about" class={currentPath === '/about' ? 'active' : ''}>About</a></li>
        <li><a href="/matrix" class={currentPath === '/matrix' ? 'active' : ''}>Matrix</a></li>
        <li><a href="/map" class={currentPath === '/map' ? 'active' : ''}>Map</a></li>
        <li><a href="/contact" class={currentPath === '/contact' ? 'active' : ''}>Contact</a></li>
        <li><a href="/shop">Shop</a></li>
      </ul>
    </nav>

    <button class="header-burger" id="mobile-nav-toggle" aria-label="Open menu" aria-expanded="false">
      <img src={burgerIcon} alt="" />
    </button>
  </div>
</header>

<MobileNav client:load />

<script>
  const toggle = document.getElementById('mobile-nav-toggle');
  const overlay = document.getElementById('mobile-nav-overlay');
  
  if (toggle && overlay) {
    toggle.addEventListener('click', () => {
      const isOpen = overlay.classList.contains('is-open');
      overlay.classList.toggle('is-open');
      toggle.setAttribute('aria-expanded', !isOpen ? 'true' : 'false');
      document.body.style.overflow = !isOpen ? 'hidden' : '';
    });
  }
</script>

